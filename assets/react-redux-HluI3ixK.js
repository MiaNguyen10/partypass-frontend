import{R as t,a as e}from"./react-BRShYvXP.js";import{w as n}from"./use-sync-external-store-CDx8uaxf.js";var r="default"in t?e:t,o=Symbol.for("react-redux-context"),i="undefined"!=typeof globalThis?globalThis:{};function s(){if(!r.createContext)return{};const t=i[o]??(i[o]=new Map);let e=t.get(r.createContext);return e||(e=r.createContext(null),t.set(r.createContext,e)),e}var u=s();function c(t=u){return function(){return r.useContext(t)}}var a=c(),l=()=>{throw new Error("uSES not initialized!")},f=(t,e)=>t===e;function d(t=u){const e=t===u?a:c(t),n=(t,n={})=>{const{equalityFn:o=f,devModeChecks:i={}}="function"==typeof n?{equalityFn:n}:n,{store:s,subscription:u,getServerState:c,stabilityCheck:a,identityFunctionCheck:d}=e();r.useRef(!0);const b=r.useCallback({[t.name]:e=>t(e)}[t.name],[t,a,i.stabilityCheck]),v=l(u.addNestedSub,s.getState,c||s.getState,b,o);return r.useDebugValue(v),v};return Object.assign(n,{withTypes:()=>n}),n}var b=d();var v={notify(){},get:()=>[]};var y=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),p="undefined"!=typeof navigator&&"ReactNative"===navigator.product,S=y||p?r.useLayoutEffect:r.useEffect;var h=function({store:t,context:e,children:n,serverState:o,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const c=r.useMemo((()=>{const e=function(t){let e,n=v,r=0,o=!1;function i(){c.onStateChange&&c.onStateChange()}function s(){r++,e||(e=t.subscribe(i),n=function(){let t=null,e=null;return{clear(){t=null,e=null},notify(){(()=>{let e=t;for(;e;)e.callback(),e=e.next})()},get(){const e=[];let n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(n){let r=!0;const o=e={callback:n,next:null,prev:e};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}())}function u(){r--,e&&0===r&&(e(),e=void 0,n.clear(),n=v)}const c={addNestedSub:function(t){s();const e=n.subscribe(t);let r=!1;return()=>{r||(r=!0,e(),u())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:i,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,s())},tryUnsubscribe:function(){o&&(o=!1,u())},getListeners:()=>n};return c}(t);return{store:t,subscription:e,getServerState:o?()=>o:void 0,stabilityCheck:i,identityFunctionCheck:s}}),[t,o,i,s]),a=r.useMemo((()=>t.getState()),[t]);S((()=>{const{subscription:e}=c;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[c,a]);const l=e||u;return r.createElement(l.Provider,{value:c},n)};function g(t=u){const e=t===u?a:c(t),n=()=>{const{store:t}=e();return t};return Object.assign(n,{withTypes:()=>n}),n}var x=g();function C(t=u){const e=t===u?x:g(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var m,w=C();m=n.useSyncExternalStoreWithSelector,l=m;export{h as P,b as a,w as u};
