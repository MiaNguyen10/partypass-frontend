import{b as t,a as e,_ as n,c as r}from"./@babel-CcRS86ir.js";import{a as i,r as s}from"./dom-helpers-BmWjwk_c.js";import{a as o,r as a}from"./react-BRShYvXP.js";import{R as p}from"./react-dom-3D_avoTu.js";const l=!1,u=o.createContext(null);var c=function(t){return t.scrollTop},d="unmounted",f="exited",h="entering",E="entered",m="exiting",x=function(n){function r(t,e){var r;r=n.call(this,t,e)||this;var i,s=e&&!e.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?s?(i=f,r.appearStatus=h):i=E:i=t.unmountOnExit||t.mountOnEnter?d:f,r.state={status:i},r.nextCallback=null,r}t(r,n),r.getDerivedStateFromProps=function(t,e){return t.in&&e.status===d?{status:f}:null};var i=r.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==h&&n!==E&&(e=h):n!==h&&n!==E||(e=m)}this.updateStatus(!1,e)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!=typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},i.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e)if(this.cancelNextCallback(),e===h){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:p.findDOMNode(this);n&&c(n)}this.performEnter(t)}else this.performExit();else this.props.unmountOnExit&&this.state.status===f&&this.setState({status:d})},i.performEnter=function(t){var e=this,n=this.props.enter,r=this.context?this.context.isMounting:t,i=this.props.nodeRef?[r]:[p.findDOMNode(this),r],s=i[0],o=i[1],a=this.getTimeouts(),u=r?a.appear:a.enter;!t&&!n||l?this.safeSetState({status:E},(function(){e.props.onEntered(s)})):(this.props.onEnter(s,o),this.safeSetState({status:h},(function(){e.props.onEntering(s,o),e.onTransitionEnd(u,(function(){e.safeSetState({status:E},(function(){e.props.onEntered(s,o)}))}))})))},i.performExit=function(){var t=this,e=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:p.findDOMNode(this);e&&!l?(this.props.onExit(r),this.safeSetState({status:m},(function(){t.props.onExiting(r),t.onTransitionEnd(n.exit,(function(){t.safeSetState({status:f},(function(){t.props.onExited(r)}))}))}))):this.safeSetState({status:f},(function(){t.props.onExited(r)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},i.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(t,e){this.setNextCallback(e);var n=this.props.nodeRef?this.props.nodeRef.current:p.findDOMNode(this),r=null==t&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=i[0],o=i[1];this.props.addEndListener(s,o)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},i.render=function(){var t=this.state.status;if(t===d)return null;var n=this.props,r=n.children;n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef;var i=e(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return o.createElement(u.Provider,{value:null},"function"==typeof r?r(t,i):o.cloneElement(o.Children.only(r),i))},r}(o.Component);function v(){}x.contextType=u,x.propTypes={},x.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:v,onEntering:v,onEntered:v,onExit:v,onExiting:v,onExited:v},x.UNMOUNTED=d,x.EXITED=f,x.ENTERING=h,x.ENTERED=E,x.EXITING=m;var C=function(t,e){return t&&e&&e.split(" ").forEach((function(e){return s(t,e)}))},g=function(r){function s(){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=r.call.apply(r,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],s=r[1];t.removeClasses(i,"exit"),t.addClass(i,s?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],s=r[1]?"appear":"enter";t.addClass(i,s,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],s=r[1]?"appear":"enter";t.removeClasses(i,s),t.addClass(i,s,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}t(s,r);var a=s.prototype;return a.addClass=function(t,e,n){var r=this.getClassNames(e)[n+"ClassName"],s=this.getClassNames("enter").doneClassName;"appear"===e&&"done"===n&&s&&(r+=" "+s),"active"===n&&t&&c(t),r&&(this.appliedClasses[e][n]=r,function(t,e){t&&e&&e.split(" ").forEach((function(e){return i(t,e)}))}(t,r))},a.removeClasses=function(t,e){var n=this.appliedClasses[e],r=n.base,i=n.active,s=n.done;this.appliedClasses[e]={},r&&C(t,r),i&&C(t,i),s&&C(t,s)},a.render=function(){var t=this.props;t.classNames;var r=e(t,["classNames"]);return o.createElement(x,n({},r,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},s}(o.Component);function b(t,e){var n=Object.create(null);return t&&a.Children.map(t,(function(t){return t})).forEach((function(t){n[t.key]=function(t){return e&&a.isValidElement(t)?e(t):t}(t)})),n}function N(t,e,n){return null!=n[e]?n[e]:t.props[e]}function S(t,e,n){var r=b(t.children),i=function(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var r,i=Object.create(null),s=[];for(var o in t)o in e?s.length&&(i[o]=s,s=[]):s.push(o);var a={};for(var p in e){if(i[p])for(r=0;r<i[p].length;r++){var l=i[p][r];a[i[p][r]]=n(l)}a[p]=n(p)}for(r=0;r<s.length;r++)a[s[r]]=n(s[r]);return a}(e,r);return Object.keys(i).forEach((function(s){var o=i[s];if(a.isValidElement(o)){var p=s in e,l=s in r,u=e[s],c=a.isValidElement(u)&&!u.props.in;!l||p&&!c?l||!p||c?l&&p&&a.isValidElement(u)&&(i[s]=a.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:N(o,"exit",t),enter:N(o,"enter",t)})):i[s]=a.cloneElement(o,{in:!1}):i[s]=a.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:N(o,"exit",t),enter:N(o,"enter",t)})}})),i}g.defaultProps={classNames:""},g.propTypes={};var k=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},y=function(i){function s(t,e){var n,s=(n=i.call(this,t,e)||this).handleExited.bind(r(n));return n.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},n}t(s,i);var p=s.prototype;return p.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},p.componentWillUnmount=function(){this.mounted=!1},s.getDerivedStateFromProps=function(t,e){var n,r,i=e.children,s=e.handleExited;return{children:e.firstRender?(n=t,r=s,b(n.children,(function(t){return a.cloneElement(t,{onExited:r.bind(null,t),in:!0,appear:N(t,"appear",n),enter:N(t,"enter",n),exit:N(t,"exit",n)})}))):S(t,i,s),firstRender:!1}},p.handleExited=function(t,e){var r=b(this.props.children);t.key in r||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var r=n({},e.children);return delete r[t.key],{children:r}})))},p.render=function(){var t=this.props,n=t.component,r=t.childFactory,i=e(t,["component","childFactory"]),s=this.state.contextValue,a=k(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?o.createElement(u.Provider,{value:s},a):o.createElement(u.Provider,{value:s},o.createElement(n,i,a))},s}(o.Component);y.propTypes={},y.defaultProps={component:"div",childFactory:function(t){return t}};export{g as C,y as T,x as a};
